1장, 제목

안녕하세요 모두의 SSE 발표를 진행하는 김태훈입니다.
저는 아래 닉네임으로 활동하고 있습니다.

2장, 발표 순서

발표는 다음과 같이 진행됩니다.
먼저 무엇을 할 수 있는지 어떤 사람들에게 유용한지 알아봅니다.
두번째로 비슷한 기능을 가진 다른 기술들과 비교합니다.
세번재로 스프링에서 SSE를 지원하는 기술들을 알아봅니다.
마지막으로 간단한 실습을 진행합니다.

3장, 어떤걸 할 수 있나요, 누구에게 유용한가요

SSE는 서버에서 클라이언트 단방향으로 데이터를 전송할 수 있습니다.
클라이언트의 요청없이 데이터를 보내는것이 가능합니다.
요청없이 데이터를 전송하는 특징을 이용해, 실시간으로 전송이 필요한 기능들을 구현할 수 있습니다.

따라서 실시간으로 댓글을 전송하거나, 알림 발송, 실시간 주식 차트 등을 구현해야하는 상황에서 유용합니다.

4장, 왜 굳이 SSE여야 하나요

실시간 데이터 전송을 지원하는 폴링, 롱 폴링에 대해 가볍게 알아보고,
웹소켓, 서비스 워커 등과 SSE를 비교해보겠습니다.

먼저 폴링은 클라이언트에서 일정 주기로, 요청을 전송하여 실시간으로 서버의 데이터를 받아오는 방식이고,
롱 폴링은 클라이언트가 요청을 보내면 응답 데이터가 있을때까지 지연시켰다가 응답하는 방식입니다.

다음으로 웹소켓은, 처음에는 http를 이용하지만, 이후에는 자체 프로토콜을 이용합니다.
때문에 http의 캐싱이나 압축등과 같은 이점을 활용하지 못하는 단점이 있습니다.

서비스 워커는, 생명주기 등이 복잡하여 처음 도입하기에는 망설여집니다.
몇몇 브라우저의 경우, 푸쉬가 발생하면 반드시 사용자에게 이를 표시해야하는 제약이 있습니다.
만약에 사용자에게 알리지 않고 백그라운드에서 필요한 작업인 경우, 적합하지 않을 수 있습니다.

SSE는, http를 그대로 사용할 수 있고, 이를 지원하는 기술들이 마련되어 있는 장점이 있습니다.

5장, 스프링에서 SSE를 서포팅하는 기술

스프링 mvc 패키지에서 SSE를 지원하고 있습니다.
이 중 SseEmitter(에스에스이 이미터)를 이용해 서버 사이드 이벤트를 구현할 수 있습니다.

6장, 실습

시나리오 1
연결 요청 구현

시나리오 2
댓글 송신 및 수신

시나리오 3
다른 게시글 보기 구현

7장, 정리

발표에 소개된 내용을 정리해보겠습니다.

첫번째 SSE는 콜백을 등록하고, 이는 다른 쓰레드에서 실행되기 때문에, 동시성 문제를 주의해야 합니다.
SSE 생성시 등록하는 컴플리트, 에러 등의 콜백은 다른 쓰레드에서 실행되기 때문에,
해당 메소드에서 접근하는 자료구조는 쓰레드 세이프해야 합니다.

두번째 타임아웃 등 시간 설정을 주의해야합니다.
타임아웃은 1분, 브라우저의 실제 타임아웃 시간을 고려하여 만료 시간은 1분 1초로 설정해야 합니다.
타임아웃이 너무 길면 서버에서 커넥션을 관리 오버헤드가 증가하고,
타임아웃이 커넥션 타임아웃시 바로바로 만료시킬 수 있지만, 재연결 요청이 증가합니다.

세번째 SSE는 탭 당 연결되므로 만약 유저가 다른 탭에서 동일한 게시글을 보는 경우
해당 게시글에 대한 푸시가 유저에게 2번 전송될 수 있습니다.
이와 같은 케이스를 주의해서 설계해야 사용성을 향상시킬 수 있습니다.

8장, 질의 응답

네 이것으로 발표는 모두 마무리 되었는데요 질문이 있으신가요?

그럼 이상으로 발표 마치겠습니다 감사합니다.

### 추가할 내용 / 장표

[ ] 실습할 내용을 동영상으로 짧게 보여주면 이해가 쉬울듯
[ ] 댓글에 탭아이디를 넣어서 보내주자(이때 탭 아이디는 사람 이름처럼...)
[x] 기술 비교할때 테이블 써보자
[ ] 실습할 코드도 미리 스니펫으로 보여주자

캐시 비워주는거 언급해야하나?